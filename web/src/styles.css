:root {
  --bg: #eaf0f8;
  --bg-strong: #dfe8f4;
  --surface: #ffffff;
  --surface-soft: #f5f8fc;
  --line: #cfd8e6;
  --text: #0f1b2e;
  --muted: #5f6e84;
  --brand: #146f5a;
  --brand-2: #0f8e70;
  --danger: #b24343;
  --warning: #9a6a20;
  --focus: rgba(20, 111, 90, 0.2);
  --shadow: 0 18px 40px rgba(12, 28, 54, 0.08);
}

* {
  box-sizing: border-box;
}

html,
body,
#root {
  margin: 0;
  min-height: 100%;
}

body {
  color: var(--text);
  background:
    radial-gradient(1100px 500px at -15% -20%, rgba(16, 142, 112, 0.16), transparent 62%),
    radial-gradient(900px 420px at 115% -16%, rgba(60, 112, 220, 0.12), transparent 64%),
    var(--bg);
  font-family: "Sora", "Segoe UI", sans-serif;
  overflow-x: hidden;
}

h1,
h2,
h3,
h4,
p {
  margin: 0;
}

input,
select,
button {
  font: inherit;
}

input,
select {
  width: 100%;
  min-width: 0;
  border: 1px solid var(--line);
  border-radius: 12px;
  background: var(--surface-soft);
  color: var(--text);
  padding: 11px 12px;
}

input:focus,
select:focus {
  outline: 2px solid var(--focus);
  border-color: var(--brand-2);
}

button {
  border: none;
  cursor: pointer;
}

.page-shell,
.editor-page {
  min-height: 100vh;
  padding: 26px;
  max-width: 100%;
}

.editor-page {
  height: 100vh;
  overflow: hidden;
  display: grid;
  grid-template-rows: auto minmax(0, 1fr);
}

.card {
  background: var(--surface);
  border: 1px solid var(--line);
  border-radius: 18px;
  box-shadow: var(--shadow);
}

.page-topbar {
  margin-bottom: 18px;
}

.brand-title {
  font-size: clamp(32px, 5vw, 48px);
  letter-spacing: 0.2px;
}

.brand-subtitle {
  margin-top: 4px;
  color: var(--muted);
  font-size: 15px;
}

.dashboard-layout {
  display: grid;
  grid-template-columns: minmax(0, 1.2fr) minmax(0, 1fr);
  gap: 16px;
}

.create-card,
.projects-card {
  padding: 20px;
}

.card-head {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  margin-bottom: 14px;
}

.card-head h2 {
  font-size: 30px;
  letter-spacing: 0.2px;
}

.head-tag {
  border: 1px solid var(--line);
  border-radius: 999px;
  padding: 6px 10px;
  background: #eef4fb;
  color: var(--muted);
  font-size: 12px;
}

.flow-steps {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-bottom: 12px;
}

.flow-step {
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--line);
  background: #edf3fb;
  color: var(--muted);
}

.flow-step.done {
  border-color: #73b7a5;
  background: #dff5ec;
  color: #0e5f4d;
}

.flow-step.ready {
  border-color: #91a9d8;
  background: #e2ebfb;
  color: #2f4d7d;
}

.source-switch {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 8px;
  margin-bottom: 10px;
}

.mode-btn {
  border: 1px solid var(--line);
  border-radius: 12px;
  background: #eef3fb;
  color: #2a3c58;
  padding: 10px 12px;
  font-weight: 600;
}

.mode-btn.active {
  background: linear-gradient(135deg, #d6f4e9, #c7efe1);
  color: #0f5f4d;
  border-color: #7ab9a7;
}

.file-input-v2 {
  display: block;
  border: 1px dashed #93a8c7;
  border-radius: 12px;
  padding: 11px 12px;
  color: #2f3f58;
  background: #f2f7ff;
}

.file-input-v2 input {
  display: none;
}

.wizard-actions {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 8px;
  margin-top: 10px;
}

.btn {
  border-radius: 12px;
  padding: 10px 14px;
  font-weight: 650;
  transition: transform 120ms ease, box-shadow 120ms ease;
}

.btn:hover {
  transform: translateY(-1px);
}

.btn:disabled {
  transform: none;
  opacity: 0.58;
  cursor: not-allowed;
}

.btn.primary {
  color: #fff;
  background: linear-gradient(135deg, var(--brand), var(--brand-2));
}

.btn.secondary {
  color: #2f3f58;
  background: #e6edf8;
}

.btn.success {
  color: #fff;
  background: linear-gradient(135deg, #2f8f77, #1f7662);
}

.btn.danger {
  color: #7e2727;
  background: #f6dfdf;
}

.progress-card {
  margin-top: 12px;
  border: 1px solid var(--line);
  border-radius: 12px;
  background: #f7fbff;
  padding: 10px;
}

.progress-head {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  font-size: 13px;
  margin-bottom: 8px;
}

.progress-track {
  width: 100%;
  height: 11px;
  border-radius: 999px;
  background: #d5dfec;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #2ea488, #167360);
}

.meta-row {
  margin-top: 8px;
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  color: var(--muted);
  font-size: 12px;
}

.import-summary {
  margin-top: 10px;
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
  font-size: 13px;
  color: #1f2d44;
}

.project-create-row {
  margin-top: 12px;
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto;
  gap: 8px;
}

.status-line {
  margin-top: 10px;
  min-height: 18px;
  color: #2f4467;
  font-size: 13px;
}

.status-line.status-error {
  color: var(--danger);
}

.video-link,
.back-link {
  color: #184f8d;
  text-decoration: none;
}

.project-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 10px;
}

.project-card,
.empty-card {
  border: 1px solid var(--line);
  border-radius: 14px;
  padding: 12px;
  background: var(--surface-soft);
  color: var(--text);
  text-decoration: none;
}

.project-thumb {
  height: 88px;
  border: 1px dashed #9cb0cc;
  border-radius: 10px;
  display: grid;
  place-items: center;
  font-size: 32px;
  color: #607291;
  margin-bottom: 10px;
}

.project-name {
  font-weight: 700;
}

.project-date {
  margin-top: 4px;
  color: var(--muted);
  font-size: 12px;
}

.editor-topbar {
  display: grid;
  grid-template-columns: 260px minmax(0, 1fr) 230px;
  gap: 10px;
  align-items: center;
  margin-bottom: 12px;
  padding: 12px;
  background: var(--surface);
  border: 1px solid var(--line);
  border-radius: 16px;
  box-shadow: var(--shadow);
}

.editor-brand {
  display: grid;
  gap: 2px;
}

.editor-brand strong {
  font-size: 20px;
}

.editor-brand span {
  color: var(--muted);
  font-size: 12px;
}

.editor-top-actions {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 10px;
}

.phase-stepper {
  display: flex;
  justify-content: center;
  gap: 8px;
  flex-wrap: wrap;
}

.phase-step {
  border: 1px solid var(--line);
  background: #edf2fa;
  color: #374963;
  padding: 8px 12px;
  border-radius: 999px;
  font-weight: 600;
}

.phase-step.active {
  border-color: #6ea896;
  background: #daf3e9;
  color: #0f5d4b;
}

.editor-layout {
  display: grid;
  grid-template-columns: 180px minmax(0, 1fr) minmax(280px, 320px);
  gap: 12px;
  min-height: 0;
  height: 100%;
  align-items: start;
  width: 100%;
  max-width: 100%;
  overflow: hidden;
}

.editor-tools,
.editor-inspector {
  padding: 12px;
  min-width: 0;
  max-height: 100%;
  overflow-y: auto;
}

.editor-tools h3,
.editor-inspector h3 {
  margin-bottom: 10px;
}

.tool-btn {
  width: 100%;
  text-align: left;
  margin-bottom: 8px;
  border: 1px solid var(--line);
  border-radius: 10px;
  background: #eef3fb;
  padding: 9px 10px;
  color: #2a3e5f;
}

.editor-center {
  min-width: 0;
  display: grid;
  gap: 12px;
  max-width: 100%;
  min-height: 0;
  overflow-y: auto;
  overflow-x: hidden;
  padding-right: 2px;
}

.preview-panel,
.timeline-panel,
.phase-content {
  padding: 12px;
  min-width: 0;
  max-width: 100%;
}

.preview-panel video {
  display: block;
  width: 100%;
  max-width: 100%;
  height: auto;
  max-height: 460px;
  border-radius: 12px;
  background: #0f1b2e;
  object-fit: contain;
}

.video-placeholder {
  height: 280px;
  border: 1px dashed var(--line);
  border-radius: 12px;
  display: grid;
  place-items: center;
  color: var(--muted);
}

.transport-row {
  margin-top: 8px;
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
  align-items: center;
}

.transport-row button {
  border: 1px solid var(--line);
  border-radius: 8px;
  padding: 7px 10px;
  background: #eff4fc;
  color: #223654;
}

.timecode {
  margin-left: auto;
  font-family: "JetBrains Mono", "Consolas", monospace;
  font-size: 12px;
  color: #435577;
}

.editor-actions {
  display: grid;
  grid-template-columns: 130px 110px minmax(120px, 160px) minmax(120px, 140px) minmax(0, 1fr);
  gap: 8px;
  margin-bottom: 8px;
  align-items: center;
  min-width: 0;
}

.zoom {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  color: var(--muted);
  min-width: 0;
}

.zoom input {
  width: 100%;
  min-width: 0;
  padding: 0;
  border: none;
  background: transparent;
}

.timeline-viewport {
  position: relative;
  border: 1px solid var(--line);
  border-radius: 12px;
  background: #f0f5fc;
  overflow-x: auto;
  overflow-y: hidden;
  max-width: 100%;
  min-width: 0;
}

.timeline-viewport.scrubbing {
  cursor: ew-resize;
  user-select: none;
}

.timeline-content {
  position: relative;
  height: 186px;
}

.ruler {
  position: absolute;
  inset: 0 0 auto 0;
  height: 24px;
}

.tick {
  position: absolute;
  width: 1px;
  height: 24px;
  background: #c4d0e2;
}

.tick span {
  position: absolute;
  top: 3px;
  left: 4px;
  font-size: 10px;
  color: #66789a;
}

.track-row {
  position: absolute;
  left: 0;
  right: 0;
  border-top: 1px solid #dbe4f2;
  z-index: 1;
}

.frames-row {
  top: 24px;
  height: 70px;
  background: #d4ddec;
  overflow: hidden;
}

.frame-tile {
  position: absolute;
  top: 0;
  height: 100%;
  overflow: hidden;
  border-right: 1px solid rgba(17, 30, 54, 0.12);
  background: #c8d2e3;
}

.frame-tile img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  user-select: none;
  pointer-events: none;
  backface-visibility: hidden;
}

.clip-row {
  top: 94px;
  height: 58px;
  background: #ecf1fa;
  z-index: 3;
}

.clip-block {
  position: absolute;
  top: 8px;
  height: 42px;
  border: 1px solid #237761;
  border-radius: 8px;
  background: rgba(33, 130, 104, 0.22);
  display: flex;
  align-items: center;
  justify-content: space-between;
  overflow: hidden;
  cursor: pointer;
}

.clip-block.active {
  border-color: #2c66cc;
  background: rgba(44, 102, 204, 0.24);
}

.clip-block.selected {
  box-shadow: inset 0 0 0 2px rgba(18, 110, 88, 0.72);
}

.clip-block.discarded {
  border-color: #9f7a27;
  background: rgba(175, 127, 28, 0.22);
}

.clip-block .title {
  font-size: 11px;
  color: #172843;
  white-space: nowrap;
  padding: 0 6px;
}

.handle {
  width: 9px;
  height: 100%;
  background: #fff;
  cursor: ew-resize;
  border-right: 1px solid #7f90ab;
}

.handle.end {
  border-right: none;
  border-left: 1px solid #7f90ab;
}

.markers-row {
  position: absolute;
  inset: 152px 0 0 0;
  height: 34px;
  border-top: 1px solid #dbe4f2;
  background: #f8fbff;
}

.marker {
  position: absolute;
  top: 3px;
  width: 2px;
  height: 28px;
  background: #e34a2d;
}

.playhead {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 2px;
  background: #d41f4d;
  cursor: ew-resize;
  z-index: 6;
}

.phase-content {
  min-height: 180px;
}

.phase-empty {
  display: grid;
  justify-items: start;
  gap: 10px;
}

.phase-empty p {
  color: var(--muted);
}

.clip-list {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 10px;
}

.clip-card {
  border: 1px solid var(--line);
  border-radius: 12px;
  padding: 10px;
  background: #f5f8fd;
  cursor: pointer;
}

.clip-card.active {
  border-color: #2f68cf;
  background: #eaf1fe;
}

.clip-card:focus-visible {
  outline: 2px solid #2f68cf;
  outline-offset: 2px;
}

.clip-card.discarded {
  border-color: #b28f3d;
  background: #faf4e6;
}

.clip-card-row {
  display: flex;
  justify-content: space-between;
  gap: 8px;
  margin-bottom: 4px;
}

.score {
  font-size: 12px;
  color: #5e6d84;
}

.clip-time {
  font-family: "JetBrains Mono", "Consolas", monospace;
  font-size: 12px;
}

.clip-reason {
  margin-top: 6px;
  color: #41526f;
  font-size: 13px;
  min-height: 34px;
}

.mini-btn {
  margin-top: 8px;
  border-radius: 8px;
  padding: 6px 10px;
  font-size: 12px;
  border: 1px solid var(--line);
}

.mini-btn.keep {
  background: #dcf4ea;
  color: #0f604e;
}

.mini-btn.discard {
  background: #f8ecd1;
  color: #7c5a1c;
}

.inspector-form {
  display: grid;
  gap: 6px;
}

.readonly {
  border: 1px solid var(--line);
  border-radius: 10px;
  background: #f4f8fe;
  padding: 10px;
  font-size: 13px;
}

.inspector-summary {
  margin-top: 12px;
  border-top: 1px solid var(--line);
  padding-top: 10px;
  display: grid;
  gap: 8px;
}

.summary-item {
  display: flex;
  justify-content: space-between;
  border: 1px solid var(--line);
  border-radius: 10px;
  padding: 8px 10px;
  background: #f4f8fe;
  font-size: 13px;
}

.saved-grid {
  display: grid;
  gap: 10px;
}

.saved-card {
  border: 1px solid var(--line);
  border-radius: 12px;
  padding: 8px;
  background: #f5f8fd;
}

.saved-card video {
  width: 100%;
  border-radius: 8px;
  margin-bottom: 6px;
}

.nle-page {
  background:
    radial-gradient(1000px 420px at -10% -18%, rgba(19, 93, 170, 0.18), transparent 65%),
    radial-gradient(900px 360px at 112% -16%, rgba(20, 111, 90, 0.18), transparent 62%),
    #e7edf6;
}

.nle-topbar {
  display: grid;
  grid-template-columns: 260px minmax(0, 1fr) minmax(420px, auto);
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
  padding: 12px;
  border: 1px solid var(--line);
  border-radius: 16px;
  background: linear-gradient(180deg, #ffffff, #f4f8fe);
  box-shadow: var(--shadow);
}

.nle-brand {
  display: grid;
  gap: 2px;
}

.nle-brand strong {
  font-size: 20px;
}

.nle-brand span {
  color: var(--muted);
  font-size: 12px;
}

.nle-header-actions {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 8px;
}

.nle-layout {
  display: grid;
  grid-template-columns: 170px minmax(0, 1fr) 320px;
  gap: 12px;
  min-height: 0;
  height: 100%;
}

.nle-tools,
.nle-inspector {
  padding: 12px;
  overflow-y: auto;
}

.nle-main {
  min-width: 0;
  display: grid;
  gap: 12px;
  min-height: 0;
  overflow-y: auto;
  padding-right: 2px;
}

.nle-preview-card,
.nle-timeline-card {
  padding: 12px;
}

.nle-preview-stage {
  border: 1px solid var(--line);
  border-radius: 14px;
  background: linear-gradient(180deg, #10213b, #081a32);
  padding: 8px;
}

.nle-preview-stage video {
  border-radius: 10px;
  max-height: 420px;
  width: 100%;
  display: block;
}

.nle-transport {
  margin-top: 8px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 8px;
}

.nle-transport-left {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}

.nle-transport-left button {
  border: 1px solid var(--line);
  border-radius: 8px;
  padding: 7px 10px;
  background: #eff4fc;
  color: #223654;
}

.nle-timeline-toolbar {
  display: grid;
  grid-template-columns: 140px 110px 90px minmax(0, 1fr);
  gap: 8px;
  align-items: center;
  margin-bottom: 8px;
}

.nle-timeline-shell {
  display: grid;
  grid-template-columns: 120px minmax(0, 1fr);
  border: 1px solid var(--line);
  border-radius: 12px;
  overflow: hidden;
  background: #eef4fc;
}

.nle-track-headers {
  border-right: 1px solid #d7e1ef;
  background: #e4ecf8;
}

.track-label {
  height: 46px;
  display: flex;
  align-items: center;
  padding: 0 10px;
  font-size: 12px;
  color: #334a6d;
  border-bottom: 1px solid #d7e1ef;
}

.track-label.ruler-label {
  height: 24px;
}

.track-head {
  justify-content: space-between;
  gap: 6px;
}

.track-head-actions {
  display: inline-flex;
  gap: 4px;
}

.track-head-actions button {
  width: 20px;
  height: 20px;
  border: 1px solid #bdcbe0;
  border-radius: 6px;
  background: #f3f7fd;
  color: #2e4367;
  line-height: 1;
  padding: 0;
}

.timeline-viewport {
  border: none;
  border-radius: 0;
  background: #f0f5fc;
}

.timeline-content {
  height: 162px;
}

.frames-row {
  top: 24px;
  height: 46px;
}

.clip-row {
  top: 70px;
  height: 46px;
}

.clip-block {
  top: 5px;
  height: 34px;
}

.markers-row {
  height: 46px;
}

.marker {
  height: 40px;
  top: 3px;
}

.nle-status-row {
  min-height: 34px;
}

.nle-panel-list {
  margin-top: 12px;
  padding: 10px;
  border-radius: 12px;
  border: 1px solid var(--line);
  background: #f5f8fd;
}

.nle-panel-list h4 {
  margin-bottom: 8px;
}

.clip-mini {
  width: 100%;
  border: 1px solid var(--line);
  border-radius: 10px;
  background: #ffffff;
  padding: 8px;
  text-align: left;
  margin-bottom: 6px;
  display: grid;
  gap: 2px;
}

.clip-mini span {
  font-family: "JetBrains Mono", "Consolas", monospace;
  font-size: 12px;
}

.clip-mini small {
  color: var(--muted);
  font-size: 11px;
}

.clip-mini.active {
  border-color: #2f68cf;
  background: #eaf1fe;
}

@media (max-width: 1320px) {
  .editor-page {
    height: auto;
    min-height: 100vh;
    overflow: auto;
  }

  .editor-layout {
    grid-template-columns: 1fr;
    height: auto;
    overflow: visible;
  }

  .nle-layout {
    grid-template-columns: 1fr;
    height: auto;
    overflow: visible;
  }

  .nle-tools {
    order: 2;
  }

  .nle-inspector {
    order: 3;
  }

  .nle-main {
    order: 1;
    overflow: visible;
  }

  .editor-tools {
    order: 2;
  }

  .editor-inspector {
    order: 3;
  }

  .editor-center {
    order: 1;
    overflow: visible;
  }
}

@media (max-width: 980px) {
  .dashboard-layout {
    grid-template-columns: 1fr;
  }

  .project-create-row {
    grid-template-columns: 1fr;
  }

  .editor-topbar {
    grid-template-columns: 1fr;
  }

  .nle-topbar {
    grid-template-columns: 1fr;
  }

  .editor-top-actions {
    justify-content: space-between;
  }

  .editor-actions {
    grid-template-columns: 1fr;
  }

  .nle-timeline-toolbar {
    grid-template-columns: 1fr;
  }

  .nle-timeline-shell {
    grid-template-columns: 1fr;
  }

  .nle-track-headers {
    display: none;
  }

  .wizard-actions {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 720px) {
  .page-shell,
  .editor-page {
    padding: 14px;
  }

  .card-head h2 {
    font-size: 24px;
  }

  .brand-title {
    font-size: 32px;
  }
}
